install.packages("tidygeocoder")
install.packages("mapview")
library(tidyverse)
library(tidygeocoder)
library(sf)
library(mapview)
library(here)
df <- read_csv(here::here("data/crimestat_copy.csv"))
View(df)
df <- read_csv(here::here("data/crimestat_copy.csv")) %>%
rename_with(~ str_to_lower(.) %>% str_replace_all(" ", "_")) %>%
mutate(zip = as.character(zip)) %>%
filter(!is.na(inc_number) & !is.na(occurred_on)) %>%
mutate(occurred_on = ymd(occurred_on))  # Assuming the date is in 'YYYY-MM-DD' format
df <- read_csv(here::here("data/crimestat_copy.csv")) %>%
rename_with(~ str_to_lower(.) %>% str_replace_all(" ", "_")) %>%
mutate(zip = as.character(zip)) %>%
filter(!is.na(inc_number) & !is.na(occurred_on)) #%>%
type(df$occurred_on)
str(df$occurred_on)
df <- read_csv(here::here("data/crimestat_copy.csv")) %>%
rename_with(~ str_to_lower(.) %>% str_replace_all(" ", "_")) %>%
mutate(zip = as.character(zip)) %>%
filter(!is.na(inc_number) & !is.na(occurred_on)) %>%
mutate(occurred_on = mdy_hm(occurred_on))
geocode_df <- df %>%
slice(1:10) %>%
tidygeocoder::geocode(
address = "100_block_addr",
method = "osm"
)
View(geocode_df)
